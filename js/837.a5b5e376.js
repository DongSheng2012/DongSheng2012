"use strict";(self["webpackChunkvue"]=self["webpackChunkvue"]||[]).push([[837],{837:function(e,t,l){l.r(t),l.d(t,{default:function(){return m}});var a=function(){var e=this,t=e._self._c;return t("div",[t("el-card",{staticClass:"box-card"},[t("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[t("div",{staticStyle:{display:"flex","align-items":"center"}},[e._v("卡片名称")]),t("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.addClick}},[e._v("添加分类")])],1),t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.articleClass,border:""}},[t("el-table-column",{attrs:{label:"序号",type:"index",width:"100"}}),t("el-table-column",{attrs:{label:"分类",prop:"ChannelName"}}),t("el-table-column",{attrs:{label:"分类别名",prop:"Html"}}),t("el-table-column",{attrs:{label:"操作",width:"144"},scopedSlots:e._u([{key:"default",fn:function(l){return[t("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.updateFn(l.row)}}},[e._v("修改")]),t("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(t){return e.removeFn(l.row)}}},[e._v("删除")])]}}])})],1)],1),t("el-dialog",{attrs:{title:"添加文章分类",visible:e.isShow,width:"30%"},on:{"update:visible":function(t){e.isShow=t}}},[t("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[t("el-form-item",{attrs:{label:"活动名称",prop:"ChannelName"}},[t("el-input",{model:{value:e.form.ChannelName,callback:function(t){e.$set(e.form,"ChannelName",t)},expression:"form.ChannelName"}})],1),t("el-form-item",{attrs:{label:"分类别名",prop:"Html"}},[t("el-input",{model:{value:e.form.Html,callback:function(t){e.$set(e.form,"Html",t)},expression:"form.Html"}})],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.isShow=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.add}},[e._v("确 定")])],1)],1)],1)},s=[],i=(l(7658),{data(){return{isShow:!1,isEdit:!1,form:{ChannelName:"",Html:""},rules:{ChannelName:[{required:!0,message:"请输入活动名称",trigger:"change"},{min:3,message:"长度不能低于3个字符",trigger:"blur"}],Html:[{required:!0,message:"请输入分类别名",trigger:"blur"},{min:3,message:"长度不能低于3个字符",trigger:"blur"}]},articleClass:[{ChannelName:"文章一",Html:"wenzhang1"}]}},created(){},methods:{getChannel(){this.$axios.get("/index.php/Api/GetChannel",{params:{Field:"ChannelID",ChannelID:"17",ShowHidden:1}}).then((e=>{this.articleClass=e.data.Data,console.log(e)})).catch((e=>{console.log(e)}))},addClick(){this.isEdit=!1,this.isShow=!0,this.form={ChannelName:"",Html:""}},add(){this.$refs.form.validate((e=>{if(!e)return console.log("error"),!1;this.isEdit?(this.articleClass=this.articleClass.map((e=>e.ChannelName==this.form.ChannelName?{...this.form}:e)),this.isShow=!1):(this.isShow=!1,this.articleClass.push({...this.form}))}))},updateFn(e){this.isEdit=!0,this.isShow=!0,this.$nextTick((()=>{this.form.ChannelName=e.ChannelName,this.form.Html=e.Html}))},removeFn(e){this.articleClass.map(((t,l)=>{t.ChannelName.indexOf(e.ChannelName)>-1&&this.articleClass.splice(l,1)}))}}}),r=i,n=l(1001),o=(0,n.Z)(r,a,s,!1,null,"4331ebac",null),m=o.exports}}]);
//# sourceMappingURL=837.a5b5e376.js.map